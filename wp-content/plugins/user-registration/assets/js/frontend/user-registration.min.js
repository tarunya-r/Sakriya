!function(e){var r=user_registration_params.ursL10n;e.fn.ur_form_submission=function(){return this.each(function(){var t=e(this),a=[],n=user_registration_params.form_required_fields,i={init:function(){},get_form_data:function(){var r=this,a=[],n=t.closest(".ur-frontend-form").find(".ur-form-grid").find(".ur-frontend-field"),i=new Array;e.each(n,function(){var n=e(this).attr("name");if(t.closest(".ur-frontend-form").find(".ur-form-grid").find('.ur-frontend-field[name="'+n+'"]').length<2){var s=r.get_fieldwise_data(e(this));a.push(s)}else e.inArray(n,i)<0&&i.push(n)});for(var s=0;s<i.length;s++){var o=t.closest(".ur-frontend-form").find(".ur-form-grid").find('.ur-frontend-field[name="'+i[s]+'"]'),u=(o.get(0).tagName.toLowerCase(),"undefined"!==o.eq(0).attr("type")?o.eq(0).attr("type"):"null"),d=new Array;e.each(o,function(){var r=e(this),t="";switch(r.get(0).tagName.toLowerCase()){case"input":switch(u){case"checkbox":case"radio":t=r.prop("checked")?r.val():"";break;default:t=r.val()}break;case"select":case"textarea":t=r.val()}""!==t&&d.push(t)});var f=JSON.stringify(d),l=i[s];l=l.replace("[]","");var c={value:f,field_type:o.eq(0).attr("id").replace("ur-input-type-",""),label:o.eq(0).attr("data-label"),field_name:l};a.push(c)}return e(document).trigger("user_registration_frontend_form_data_filter",[a]),a},get_fieldwise_data:function(r){var t={},i=r.get(0).tagName.toLowerCase(),s="undefined"!==r.attr("type")?r.attr("type"):"null";switch(t.value="",i){case"input":switch(s){case"checkbox":case"radio":t.value=r.prop("checked")?r.val():"";break;default:t.value=r.val()}break;case"select":case"textarea":t.value=r.val()}return e(document).trigger("user_registration_frontend_form_data_render",[r,t]),t.field_type=r.attr("id").replace("ur-input-type-",""),r.attr("data-label")!==undefined?t.label=r.attr("data-label"):"label"===r.prev().get(0).tagName.toLowerCase()?t.label=r.prev().text():t.label=t.field_type,r.attr("name")!==undefined&&""!==r.attr("name")?t.field_name=r.attr("name"):t.field_name="",e.inArray(t.field_name,e.trim(n))>=0&&a.push(t.field_name),t},show_message:function(r,t,a){a.find(".ur-message").remove();var n=e('<div class="ur-message user-registration-'+t+'" id="ur-submit-message-node"/>');n.append(r),a.append(n)}},s={init:function(){this.form_submit_event()},form_submit_event:function(){t.on("submit",function(a){if(t.find(".user-registration-password-strength").length>0){var n=t.find(".user-registration-password-strength").attr("data-current-strength"),s=t.find(".user-registration-password-strength").attr("data-min-strength");if(parseInt(n,0)<parseInt(s,0))return!1}a.preventDefault();var o;try{o=JSON.stringify(i.get_form_data())}catch(l){o=""}var u=0;1===e(this).closest("form").find('input[name="ur-user-form-id"]').length&&(u=e(this).closest("form").find('input[name="ur-user-form-id"]').val());var d="0";1===e(this).closest("form").find('input[name="ur_frontend_form_nonce"]').length&&(d=e(this).closest("form").find('input[name="ur_frontend_form_nonce"]').val());var f={action:"user_registration_user_form_submit",security:user_registration_params.user_registration_form_data_save,form_data:o,form_id:u,ur_frontend_form_nonce:d};if(e(document).trigger("user_registration_frontend_before_form_submit",[f,t]),"undefined"!=typeof ur_google_recaptcha_code&&"1"===ur_google_recaptcha_code.is_captcha_enable){if(0===t.find("#g-recaptcha-response").val().length)return void i.show_message("<p>"+r.captcha_error+"</p>","error",t);grecaptcha.reset()}t.find(".ur-submit-button").find("span").addClass("ur-front-spinner"),e.ajax({url:user_registration_params.ajax_url,data:f,type:"POST",async:!0,beforeSend:function(){},complete:function(a){t.find(".ur-submit-button").find("span").removeClass("ur-front-spinner");var n=e('<ul class=""/>'),s="error";try{var o=e.parseJSON(a.responseText);"undefined"!=typeof o.success&&!0===o.success&&(s="message"),"object"==typeof o.data.message&&e.each(o.data.message,function(){e("<li/>").text(this).appendTo(n)}),"message"===s&&(e(".user-registration-password-hint").remove(),e(".user-registration-password-strength").remove(),"admin_approval"==user_registration_params.login_option?n.append("<li>"+r.user_under_approval+"</li>"):"email_confirmation"==user_registration_params.login_option?n.append("<li>"+r.user_email_pending+"</li>"):n.append("<li>"+r.user_successfully_saved+"</li>"),t[0].reset(),""!==user_registration_params.redirect_url?window.setTimeout(function(){window.location=user_registration_params.redirect_url},1e3):"undefined"!=typeof o.data.auto_login&&o.data.auto_login&&location.reload())}catch(u){n.append("<li>"+u.message+"</li>")}i.show_message(n,s,t),e(document).trigger("user_registration_frontend_after_ajax_complete",[a.responseText,s,t])}})})}};i.init(),s.init()})},e(function(){e(".ur-frontend-form form.register").ur_form_submission();var r=e('.ur-frontend-form  input[type="date"]');r.length>0&&r.addClass("ur-date").attr("type","text").attr("placeholder","yy-mm-dd").datepicker({dateFormat:"yy-mm-dd",changeMonth:!0,changeYear:!0})})}(jQuery);var google_recaptcha_user_registration,onloadURCallback=function(){google_recaptcha_user_registration=grecaptcha.render("node_recaptcha",{sitekey:ur_google_recaptcha_code.site_key,theme:"light",style:"transform:scale(0.77);-webkit-transform:scale(0.77);transform-origin:0 0;-webkit-transform-origin:0 0;"})};